// Implements a silly emoji generator.
// Can generate 46 * 91 * 31 = 129,766 unique emotes. Woot!
package main

import (
  "fmt"
  "os"
  "math/rand"
  "time"

  "github.com/fatih/color"
  "github.com/urfave/cli"
)

var MOUTHS = [...]string{
  " v ",
  " ᴥ ",
  "ᗝ",
  "Ѡ",
  " ᗜ ",
  "Ꮂ",
  "ᨓ",
  "ᨎ",
  "ヮ",
  "╭͜ʖ╮",
  " ͟ل͜",
  " ͜ʖ",
  " ͟ʖ",
  " ʖ̯",
  " ω ",
  " ³",
  " ε ",
  "﹏",
  " □ ",
  " ل͜ ",
  "‿",
  "╭╮",
  "‿‿",
  " ▾ ",
  " ‸ ",
  " Д ",
  " ∀ ",
  " ! ",
  " 人 ",
  " . ",
  " ロ ",
  "_",
  " ෴ ",
  " ꔢ ",
  " ѽ ",
  " ഌ ",
  " ⏠ ",
  " ⏏ ",
  " ⍊ ",
  " ⍘ ",
  "ツ",
  " 益 ",
  "╭∩╮",
  " Ĺ̯ ",
  " ◡ ",
  "  ͜つ ",
}

var EYES = [...][2]string{
  {"⌐■", "■"},
  {"⌐▨", "▨"},
  {" ͠°", " °"},
  {"⇀", "↼"},
  {"´• ", " •`"},
  {"´", "`"},
  {"`", "´"},
  {"ó", "ò"},
  {"ò", "ó"},
  {"⸌", "⸍"},
  {">", "<"},
  {"Ƹ̵̡", "Ʒ"},
  {"ᗒ", "ᗕ"},
  {"⪨", "⪩"},
  {"⋟", "⋞"},
  {"⫑", "⫒"},
  {"◥▶", "◀◤"},
  {"◍", "◎"},
  {"⌣", "⌣”"},
  {" ͡⎚", " ͡⎚"},
  {"≋", "≋"},
  {"૦ઁ", "૦ઁ"},
  {"ꗞ", "ꗞ"},
  {"ꔸ", "ꔸ"},
  {"꘠", "꘠"},
  {"ꖘ", "ꖘ"},
  {"ළ", "ළ"},
  {"◉", "◉"},
  {"☉", "☉"},
  {"・", "・"},
  {"▰", "▰"},
  {"ᵔ", "ᵔ"},
  {" ﾟ", " ﾟ"},
  {"*", "*"},
  {"`", "`"},
  {"⊜", "⊜"},
  {">", ">"},
  {"❍", "❍"},
  {"￣", "￣"},
  {"─", "─"},
  {"•", "•"},
  {"T", "T"},
  {"^", "^"},
  {"ⱺ", "ⱺ"},
  {"@", "@"},
  {"ȍ", "ȍ"},
  {"x", "x"},
  {"-", "-"},
  {"$", "$"},
  {"Ȍ", "Ȍ"},
  {"ʘ", "ʘ"},
  {"Ꝋ", "Ꝋ"},
  {"⸟", "⸟"},
  {"๏", "๏"},
  {"ⴲ", "ⴲ"},
  {"■", "■"},
  {"◕", "◕"},
  {"◔", "◔"},
  {"✧", "✧"},
  {"■", "■"},
  {"♥", "♥"},
  {" ͡°", " ͡°"},
  {"¬", "¬"},
  {" º ", " º "},
  {"⨶", "⨶"},
  {"⨱", "⨱"},
  {"⏓", "⏓"},
  {"⏒", "⏒"},
  {"⍜", "⍜"},
  {"⍤", "⍤"},
  {"ᚖ", "ᚖ"},
  {"ᴗ", "ᴗ"},
  {"ಠ", "ಠ"},
  {"σ", "σ"},
  {"☯", "☯"},
  {"ಥ", "ಥ"},
  {"◙", "◙"},
  {"●", "●"},
  {"☉", "☉"},
  {"Ծ", "Ծ"},
  {"❂", "❂"},
  {"ʘ", "ʘ"},
  {"ↁ", "ↁ"},
  {"句", "句"},
  {"ಸ", "໖"},
  {"ò", "Ó"},
  {"O", "o"},
}

var EARS = [...][2]string{
  {"q", "p"},
  {"ʢ", "ʡ"},
  {"⸮", "?"},
  {"ʕ", "ʔ"},
  {"ᖗ", "ᖘ"},
  {"ᕦ", "ᕥ"},
  {"ᕦ(", ")ᕥ"},
  {"ᕙ(", ")ᕗ"},
  {"ᘳ", "ᘰ"},
  {"ᕮ", "ᕭ"},
  {"ᕳ", "ᕲ"},
  {"(", ")"},
  {"[", "]"},
  {"¯\\_", "_/¯"},
  {"୧", "୨"},
  {"୨", "୧"},
  {"⤜(", ")⤏"},
  {"ᑫ", "ᑷ"},
  {"ᑴ", "ᑷ"},
  {"ヽ(", ")ﾉ"},
  {"\\(", ")/"},
  {"乁(", ")ㄏ"},
  {"└[", "]┘"},
  {"(づ", ")づ"},
  {"(ง", ")ง"},
  {"⎝", "⎠"},
  {"ლ(", "ლ)"},
  {"ᕕ(", ")ᕗ"},
  {"(∩", ")⊃━☆ﾟ.*"},
  {"|", " |"},
  {"( ", " ✿)"},
  {"(╯", "）╯︵ ┻━┻"},
  {"┻━┻ ︵ \\(", "/ ︵ ┻━┻"},
  {"(╯", "）╯︵/(.□ . \\)"},
  {"ヘ(", "ヘ)"},
  {"└(=", "=)┐"},
  {"┏━┓┏━┓┏━┓ ︵ /(", "/)"},
  {"╰(", ")つ¤=[]———"},
  {"╰(", ")つ¤==>"},
  {"≋≋≋≋≋̯̫⌧̯̫ (", ") "},
}

func main() {
  rand.Seed(time.Now().UnixNano())
  l_mouth, l_eyes, l_ears := len(MOUTHS), len(EYES), len(EARS)
  app := cli.NewApp()
  app.Name = "dafaq"
  app.Version = "0.1.0"
  app.Usage = fmt.Sprintf("generate them emotes. %d and counting", (l_mouth * l_eyes * l_ears))

  app.Action = func(c *cli.Context) error {
    r1, r2, r3 := rand.Intn(l_mouth), rand.Intn(l_eyes), rand.Intn(l_ears)

    if rand.Intn(100) < 42 {
      color.Set(color.FgYellow)
    } else if rand.Intn(300) > 42 {
      color.Set(color.FgHiBlue)
    } else {
      color.Set(color.FgGreen)
    }

    fmt.Print("\n\t", EARS[r3][0], EYES[r2][0], MOUTHS[r1], EYES[r2][1], EARS[r3][1], "\n\n")

    color.Unset()
    return nil
  }

  app.Run(os.Args)
}
