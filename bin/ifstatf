#!/usr/bin/env bash

ifstat -bi en0 0.1 1 | tail -n 1 | \
  awk '
    {printf("%d %s %s",
      ($1 > 1000) ? $1 / 1024 : $1,
      ($1 > 1000) ? "m" : "k",
      ($1 > 6000) ? "a13d63" : \
        ($1 > 4000) ? "2a9d8f" : \
          ($1 > 1000) ? "0c7489" : \
            ($1 > 0) ? "324376" : "1d2d44")
    }' | \
  awk '{printf "#[fg=#%s]#[bg=#%s]#[fg=#e5e5e5]↓%3s%s", $3, $3, $1, $2}'
